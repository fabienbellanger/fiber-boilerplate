# Variables
# ---------
@baseUrl = http://{{$dotenv APP_ADDR}}:{{$dotenv APP_PORT}}/api/v1
@token = eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJjcmVhdGVkQXQiOiIyMDIxLTAzLTA5VDIwOjA1OjM1LjU2NFoiLCJleHAiOjE2NjM4NTAzNTcsImZpcnN0bmFtZSI6IlRvdG8gMiIsImlhdCI6MTY2Mjk4NjM1NywiaWQiOiJjYjEzY2MyOS0xM2JiLTRiODQtYmYzMC0xN2RhMDBlYzc0MDAiLCJsYXN0bmFtZSI6IlRlc3QiLCJuYmYiOjE2NjI5ODYzNTcsInVzZXJuYW1lIjoidGVzdEBnbWFpbC5jb20ifQ.NfOxwDXu7DNzmvkGQ6yQ4yUmIMUY1Maxo3ZuqjRLh5LDrfXfsJqWb6LmyyF7YkCwhvPnS4TuBI8gR8HxWpCc7w

< {% client.global.set("baseUrl", "http://localhost:3001/api/v1") %}


# Users
# -----
@userId = 9d984ea1-464a-49ae-8b59-4c578d0fed20
@userIdToDelete = 9d984ea1-464a-49ae-8b59-4c578d0fed20

# Login
POST {{baseUrl}}/login
Content-Type: application/json

{
    "username": "test@gmail.com",
    "password": "00000000"
}
###

# Register
POST {{baseUrl}}/register
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "username": "test45@gmail.com",
    "password": "00000000",
    "lastname": "Test",
    "firstname": "Toto"
}
###

# Users list
GET {{baseUrl}}/users
Content-Type: application/json
Authorization: Bearer {{token}}
###

# User information
GET {{baseUrl}}/users/{{userId}}
Content-Type: application/json
Authorization: Bearer {{token}}
###

# Update user
PUT {{baseUrl}}/users/{{userId}}
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "username": "test@gmail.com",
    "password": "00000000",
    "lastname": "Test",
    "firstname": "Toto 2"
}
###

# Delete user
DELETE {{baseUrl}}/users/{{userIdToDelete}}
Content-Type: application/json
Authorization: Bearer {{token}}
###
